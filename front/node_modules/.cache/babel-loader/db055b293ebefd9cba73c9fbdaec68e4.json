{"ast":null,"code":"var _jsxFileName = \"/home/ethanh/Desktop/reactjs/socket-squares/v1/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState, useEffect } from 'react';\nimport { faCheck, faTimes, faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport useAuth from '../hooks/useAuth';\nimport axios from '../api/axios';\nimport './css/Login-register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\nconst REGISTER_URL = '/api/auth/register';\n\nconst Register = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    setAuth\n  } = useAuth();\n  const userRef = useRef();\n  const errRef = useRef();\n  const [user, setUser] = useState('');\n  const [validName, setValidName] = useState(false); //whether enetered name valid or not  \n\n  const [userFocus, setUserFocus] = useState(false); //whether have focus on username input field or not\n\n  const [pwd, setPwd] = useState(\"\");\n  const [validPwd, setValidPwd] = useState(false);\n  const [pwdFocus, setPwdFocus] = useState(false); //whether focus on pwd field\n\n  const [matchPwd, setMatchPwd] = useState(\"\");\n  const [validMatch, setValidMatch] = useState(false);\n  const [matchFocus, setMatchFocus] = useState(false); //whether focus on match pwd field\n\n  const [errMsg, setErrMsg] = useState(''); //set focus on username when component loads\n\n  useEffect(() => {\n    userRef.current.focus();\n  }, []); //validate username anytime it changes:\n\n  useEffect(() => {\n    const result = USER_REGEX.test(user);\n    setValidName(result);\n  }, [user]); //validate password, anytime pwd or match pwd changes\n\n  useEffect(() => {\n    const result = PWD_REGEX.test(pwd);\n    setValidPwd(result);\n    const match = pwd === matchPwd;\n    setValidMatch(match);\n  }, [pwd, matchPwd]); //clear error message when pwd,user or matchpwd changed:\n\n  useEffect(() => {\n    setErrMsg('');\n  }, [user, pwd, matchPwd]); //submit function:\n\n  const submit = async e => {\n    e.preventDefault(); //revalidate data incase of button enabled w/ JS hack\n\n    const v1 = USER_REGEX.test(user);\n    const v2 = PWD_REGEX.test(pwd);\n\n    if (!v1 || !v2) {\n      setErrMsg(\"Invalid Entry\");\n      return;\n    }\n\n    try {\n      const response = await axios.post(REGISTER_URL, JSON.stringify({\n        username: user,\n        password: pwd\n      }), {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true\n      });\n      console.log(response.data);\n      console.log(response.data.coins);\n      navigate(\"/\");\n      setAuth({\n        user,\n        coins: response.data.coins,\n        accessToken: response.data.accessToken,\n        id: response.data._id\n      }); //clear input fields??\n\n      return;\n    } catch (err) {\n      var _err$response, _err$response2;\n\n      if (!(err !== null && err !== void 0 && err.response)) {\n        setErrMsg('No server response');\n      } else if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 409) {\n        setErrMsg(\"Username taken\");\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 0) {\n        setErrMsg(\"Error connecting to server\");\n      } else {\n        setErrMsg(\"Registration Failed\");\n      }\n\n      errRef.current.focus();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"auth\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      ref: errRef,\n      className: errMsg ? \"errmsg\" : \"offscreen\",\n      \"aria-live\": \"assertive\",\n      children: errMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username\",\n        children: [\"Username:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: validName ? \"valid\" : \"hide\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: validName || !user ? \"hide\" : \"invalid\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"username\",\n        ref: userRef,\n        required: true,\n        autoComplete: \"off\",\n        onChange: e => setUser(e.target.value),\n        \"aria-invalid\": validName ? \"false\" : \"true\",\n        \"aria-describedby\": \"uidnote\",\n        onFocus: () => setUserFocus(true),\n        onBlur: () => setUserFocus(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"uidnote\",\n        className: userFocus && user && !validName ? \"instructions\" : \"offscreen\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faInfoCircle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), \"4 to 24 Characters. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }, this), \"Must begin with a letter. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 39\n        }, this), \"Letters, numbers, underscores, hyphens allowed.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: validPwd ? \"valid\" : \"hide\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: validPwd || !pwd ? \"hide\" : \"invalid\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        onChange: e => setPwd(e.target.value),\n        required: true,\n        \"aria-invalid\": validPwd ? \"false\" : \"true\",\n        \"aria-describedby\": \"pwdnote\",\n        onFocus: () => setPwdFocus(true),\n        onBlur: () => setPwdFocus(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"pwdnote\",\n        className: pwdFocus && pwd && !validPwd ? \"instructions\" : \"offscreen\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faInfoCircle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), \"8 to 24 Characters. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 33\n        }, this), \"Must include uppercase and lowecase letters, a number and a special character\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 90\n        }, this), \"Allowed special characters: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-label\": \"exclamation mark\",\n          children: \"!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 41\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-label\": \"at symbol\",\n          children: \"@\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 86\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-label\": \"hashtag\",\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 124\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-label\": \"dollar sign\",\n          children: \"$\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 160\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          \"aria-label\": \"percent\",\n          children: \"%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 200\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"confirm_pwd\",\n        children: [\"Confirm Password:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: validMatch && matchPwd && validPwd ? \"valid\" : \"hide\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faCheck\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: validMatch || !matchPwd ? \"hide\" : \"invalid\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"confirm_pwd\",\n        required: true,\n        onChange: e => setMatchPwd(e.target.value),\n        \"aria-invalid\": validName ? \"false\" : \"true\",\n        \"aria-describedby\": \"uidnote\",\n        onFocus: () => setMatchFocus(true),\n        onBlur: () => setMatchFocus(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"uidnote\",\n        className: matchFocus && !validMatch ? \"instructions\" : \"offscreen\",\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faInfoCircle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), \"Passwords must match.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: !validName || !validPwd || !validMatch ? true : false,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"line\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"Satn4m2/3dzzVfWJIFvQRE8ZIZo=\", false, function () {\n  return [useNavigate, useAuth];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useRef","useState","useEffect","faCheck","faTimes","faInfoCircle","FontAwesomeIcon","Link","useNavigate","useAuth","axios","USER_REGEX","PWD_REGEX","REGISTER_URL","Register","navigate","setAuth","userRef","errRef","user","setUser","validName","setValidName","userFocus","setUserFocus","pwd","setPwd","validPwd","setValidPwd","pwdFocus","setPwdFocus","matchPwd","setMatchPwd","validMatch","setValidMatch","matchFocus","setMatchFocus","errMsg","setErrMsg","current","focus","result","test","match","submit","e","preventDefault","v1","v2","response","post","JSON","stringify","username","password","headers","withCredentials","console","log","data","coins","accessToken","id","_id","err","status","target","value"],"sources":["/home/ethanh/Desktop/reactjs/socket-squares/v1/src/components/Register.js"],"sourcesContent":["import {useRef, useState, useEffect} from 'react';\nimport {faCheck, faTimes, faInfoCircle} from \"@fortawesome/free-solid-svg-icons\" \nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\"\nimport { Link, useNavigate } from 'react-router-dom';\nimport useAuth from '../hooks/useAuth';\nimport axios from '../api/axios';\n\nimport './css/Login-register.css'\n\nconst USER_REGEX = /^[A-z][A-z0-9-_]{3,23}$/;\nconst PWD_REGEX = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%]).{8,24}$/;\nconst REGISTER_URL = '/api/auth/register';\n\n\nconst Register = () => {\n  const navigate = useNavigate();\n  const {setAuth} = useAuth();\n\n  const userRef = useRef();\n  const errRef = useRef();\n\n  const [user,setUser] = useState('');\n  const [validName, setValidName] = useState(false); //whether enetered name valid or not  \n  const [userFocus, setUserFocus] = useState(false); //whether have focus on username input field or not\n  \n  const [pwd,setPwd] = useState(\"\");\n  const [validPwd,setValidPwd] = useState(false);\n  const [pwdFocus,setPwdFocus] = useState(false); //whether focus on pwd field\n\n  const [matchPwd,setMatchPwd] = useState(\"\");\n  const [validMatch,setValidMatch] = useState(false);\n  const [matchFocus,setMatchFocus] = useState(false); //whether focus on match pwd field\n  \n  const [errMsg, setErrMsg] = useState('');\n\n  //set focus on username when component loads\n  useEffect(() =>{\n    userRef.current.focus();\n  }, [])\n\n  //validate username anytime it changes:\n  useEffect(()=>{\n    const result = USER_REGEX.test(user);\n    setValidName(result);\n  }, [user])\n\n  //validate password, anytime pwd or match pwd changes\n  useEffect(() => {\n    const result = PWD_REGEX.test(pwd);\n    setValidPwd(result);\n    const match = pwd===matchPwd;\n    setValidMatch(match);\n  }, [pwd,matchPwd]);\n\n  //clear error message when pwd,user or matchpwd changed:\n  useEffect(() => {\n    setErrMsg('');\n  }, [user,pwd,matchPwd]);\n\n  //submit function:\n  const submit = async(e) =>{\n    e.preventDefault();\n\n    //revalidate data incase of button enabled w/ JS hack\n    const v1 = USER_REGEX.test(user);\n    const v2 = PWD_REGEX.test(pwd);\n\n    if(!v1||!v2){\n        setErrMsg(\"Invalid Entry\");\n        return;\n    }\n   \n   try{\n        const response = await axios.post(REGISTER_URL, JSON.stringify({username: user,password: pwd}), \n        {\n            headers: {'Content-Type': 'application/json'},\n            withCredentials: true,\n        })\n        console.log(response.data);\n        console.log(response.data.coins)\n        navigate(\"/\")\n        setAuth({user, coins: response.data.coins, accessToken: response.data.accessToken,id: response.data._id});\n        //clear input fields??\n        return;\n   } catch(err){\n        if(!err?.response){\n            setErrMsg('No server response');\n        }else if(err.response?.status === 409){\n            setErrMsg(\"Username taken\");\n        }else if(err.response?.status===0){\n            setErrMsg(\"Error connecting to server\")\n        }\n        else{\n            setErrMsg(\"Registration Failed\")\n        }\n        errRef.current.focus();\n   }\n}\n\n\n  return (\n    <section className=\"auth\">\n    {/* p holds error message if error exists; 'aria-live' makes screen reader read message when focused */}\n    <p ref={errRef} className={errMsg? \"errmsg\":\"offscreen\"} aria-live=\"assertive\">{errMsg}</p>\n    <h1>Register</h1>\n    <form onSubmit={submit}>\n        <label htmlFor=\"username\">\n            Username:\n            <span className={validName? \"valid\":\"hide\"}>\n                <FontAwesomeIcon icon={faCheck}/>\n            </span>\n            <span className={validName || !user ? \"hide\":\"invalid\"}>\n                <FontAwesomeIcon icon={faTimes}/>\n            </span>\n\n        </label>\n        <input\n            type=\"text\"\n            id=\"username\"\n            ref={userRef}\n            required\n            autoComplete=\"off\"\n            onChange={(e) => setUser(e.target.value)}\n            aria-invalid={validName? \"false\":\"true\"}\n            aria-describedby=\"uidnote\"\n            onFocus={() => setUserFocus(true)}\n            onBlur={() => setUserFocus(false)}\n        />\n        <p id=\"uidnote\" className={userFocus && user && !validName? \"instructions\":\"offscreen\"}>\n            <FontAwesomeIcon icon ={faInfoCircle}/>\n            4 to 24 Characters. <br />\n            Must begin with a letter. <br />\n            Letters, numbers, underscores, hyphens allowed.\n        </p>\n\n        <label htmlFor=\"password\">\n            Password:\n            <span className={validPwd? \"valid\":\"hide\"}>\n                <FontAwesomeIcon icon={faCheck}/>\n            </span>\n            <span className={validPwd || !pwd ? \"hide\":\"invalid\"}>\n                <FontAwesomeIcon icon={faTimes}/>\n            </span>\n\n        </label>\n        <input\n            type=\"password\"\n            id=\"password\"\n            onChange={(e) => setPwd(e.target.value)}\n            required\n            aria-invalid={validPwd? \"false\":\"true\"}\n            aria-describedby=\"pwdnote\"\n            onFocus={() => setPwdFocus(true)}\n            onBlur={() => setPwdFocus(false)}\n        />\n        <p id=\"pwdnote\" className={pwdFocus && pwd && !validPwd? \"instructions\":\"offscreen\"}>\n            <FontAwesomeIcon icon ={faInfoCircle}/>\n            8 to 24 Characters. <br />\n            Must include uppercase and lowecase letters, a number and a special character<br />\n            Allowed special characters: <span aria-label=\"exclamation mark\">!</span> <span aria-label=\"at symbol\">@</span> <span aria-label=\"hashtag\">#</span> <span aria-label=\"dollar sign\">$</span> <span aria-label=\"percent\">%</span>\n        </p>\n        \n        <label htmlFor=\"confirm_pwd\">\n            Confirm Password:\n            <span className={validMatch && matchPwd && validPwd? \"valid\":\"hide\"}>\n                <FontAwesomeIcon icon={faCheck}/>\n            </span>\n            <span className={validMatch || !matchPwd ? \"hide\":\"invalid\"}>\n                <FontAwesomeIcon icon={faTimes}/>\n            </span>\n\n        </label>\n        <input\n            type=\"password\"\n            id=\"confirm_pwd\"\n            required\n            onChange={(e) => setMatchPwd(e.target.value)}\n            aria-invalid={validName? \"false\":\"true\"}\n            aria-describedby=\"uidnote\"\n            onFocus={() => setMatchFocus(true)}\n            onBlur={() => setMatchFocus(false)}\n        />\n        <p id=\"uidnote\" className={matchFocus && !validMatch? \"instructions\":\"offscreen\"}>\n            <FontAwesomeIcon icon ={faInfoCircle}/>\n            Passwords must match.\n        </p>\n\n        {/*(Button type is submit by default)*/}\n        <button disabled = {!validName || !validPwd || !validMatch? true:false}>\n            Sign Up\n        </button>\n\n        <p>\n            Already registered? <br />\n            <span className=\"line\">\n                {/*PUT ROUTER LINK HERE*/}\n                <Link to=\"/login\">Login</Link>\n            </span>\n        </p>\n    </form>\n</section>\n  )\n}\n\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module"}